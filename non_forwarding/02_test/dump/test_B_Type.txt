############################################################
# INIT
############################################################
    lui     x10, 0x10000      # x10 = 0x1000_0000
    addi    x11, x10, 0       # pointer

############################################################
# KHỞI TẠO THANH GHI (tạo RAW hazard)
############################################################
    addi    x5, x0, 5         # x5 = 5
    addi    x6, x5, 3         # x6 = 8
    addi    x7, x6, -8        # x7 = 0
    addi    x8, x7, 5         # x8 = 5

############################################################
# TEST 0 — BEQ (TAKEN)
############################################################
    beq     x7, x0, BEQ_TAKEN
BEQ_NOT:
    addi    x12, x0, 0
    jal     x0, BEQ_END

BEQ_TAKEN:
    addi    x12, x0, 111      # <= 2047 (OK)

BEQ_END:
    sw      x12, 0(x11)
    addi    x11, x11, 4

############################################################
# TEST 1 — BEQ (NOT TAKEN)
############################################################
    addi    x6, x6, 1         # x6 = 9 (RAW trước branch)
    beq     x6, x0, BEQ2_TAKEN
BEQ2_NOT:
    addi    x12, x0, 222      # <= 2047
    jal     x0, BEQ2_END

BEQ2_TAKEN:
    addi    x12, x0, 999      # <= 2047

BEQ2_END:
    sw      x12, 0(x11)
    addi    x11, x11, 4

############################################################
# TEST 2 — BNE (TAKEN)
############################################################
    bne     x7, x6, BNE_TAKEN
BNE_NOT:
    addi    x12, x0, 0
    jal     x0, BNE_END

BNE_TAKEN:
    addi    x12, x0, 333      # <= 2047

BNE_END:
    sw      x12, 0(x11)
    addi    x11, x11, 4

############################################################
# TEST 3 — BNE (NOT TAKEN)
############################################################
    bne     x8, x5, BNE2_TAKEN
BNE2_NOT:
    addi    x12, x0, 444      # <= 2047
    jal     x0, BNE2_END

BNE2_TAKEN:
    addi    x12, x0, 999      # <= 2047

BNE2_END:
    sw      x12, 0(x11)
    addi    x11, x11, 4

############################################################
# TEST 4 — BLT (TAKEN)
############################################################
    blt     x5, x6, BLT_TAKEN
BLT_NOT:
    addi    x12, x0, 0
    jal     x0, BLT_END

BLT_TAKEN:
    addi    x12, x0, 555      # <= 2047

BLT_END:
    sw      x12, 0(x11)
    addi    x11, x11, 4

############################################################
# TEST 5 — BLT (NOT TAKEN)
############################################################
    blt     x6, x5, BLT2_TAKEN
BLT2_NOT:
    addi    x12, x0, 666      # <= 2047
    jal     x0, BLT2_END

BLT2_TAKEN:
    addi    x12, x0, 999      # <= 2047

BLT2_END:
    sw      x12, 0(x11)
    addi    x11, x11, 4

############################################################
# TEST 6 — BGE (TAKEN)
############################################################
    bge     x6, x5, BGE_TAKEN
BGE_NOT:
    addi    x12, x0, 0
    jal     x0, BGE_END

BGE_TAKEN:
    addi    x12, x0, 777      # <= 2047

BGE_END:
    sw      x12, 0(x11)
    addi    x11, x11, 4

############################################################
# TEST 7 — BGE (NOT TAKEN)
############################################################
    bge     x5, x6, BGE2_TAKEN
BGE2_NOT:
    addi    x12, x0, 888      # <= 2047
    jal     x0, BGE2_END

BGE2_TAKEN:
    addi    x12, x0, 999      # <= 2047

BGE2_END:
    sw      x12, 0(x11)
    addi    x11, x11, 4

############################################################
# TEST 8 — BLTU (TAKEN)
############################################################
    bltu    x5, x6, BLTU_TAKEN
BLTU_NOT:
    addi    x12, x0, 0
    jal     x0, BLTU_END

BLTU_TAKEN:
    addi    x12, x0, 1234     # <= 2047

BLTU_END:
    sw      x12, 0(x11)
    addi    x11, x11, 4

############################################################
# TEST 9 — BLTU (NOT TAKEN)
############################################################
    bltu    x6, x5, BLTU2_TAKEN
BLTU2_NOT:
    addi    x12, x0, 1456     # <= 2047
    jal     x0, BLTU2_END

BLTU2_TAKEN:
    addi    x12, x0, 999

BLTU2_END:
    sw      x12, 0(x11)
    addi    x11, x11, 4

############################################################
# END
############################################################
halt:
    jal     x0, halt
